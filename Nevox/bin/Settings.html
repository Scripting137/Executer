<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Nevox Settings</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    body {
      background-color: rgb(12,0,15);
      color: #d8cfff;
      font-family: "Segoe UI", sans-serif;
      margin: 0;
      padding: 20px;
    }

    /* Tabs at the Top */
    .tabs {
      display: flex;
      gap: 10px;
      margin-bottom: 20px;
    }
    .tab {
      padding: 8px 15px;
      background-color: #1d0e35;
      border-radius: 8px;
      cursor: pointer;
      font-weight: 600;
      color: #b7aaff;
      box-shadow: 0 2px 10px rgba(64,0,127,0.4);
      transition: background 0.3s, box-shadow 0.3s;
      user-select: none;
    }
    .tab:hover {
      background-color: #2b1a5a;
      box-shadow: 0 4px 18px #9a62ff77;
    }
    .tab.active {
      background-color: #2f1a68cc;
      color: #fff;
      box-shadow: inset 0 -3px #9a62ff, 0 4px 18px #9a62ff55;
    }

    /* Settings Items */
    .setting {
      background-color: #1d0e35cc;
      padding: 15px;
      border-radius: 8px;
      margin-bottom: 14px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      box-shadow: 0 2px 12px #40007f55;
      transition: background-color 0.25s, box-shadow 0.25s;
    }
    .setting:hover {
      background-color: #2f1a68cc;
      box-shadow: 0 4px 28px #9a62ff88;
    }
    .setting-text {
      display: flex;
      flex-direction: column;
    }
    .setting-title {
      font-weight: bold;
      margin-bottom: 3px;
      color: #d5cfff;
    }
    .setting-desc {
      font-size: 0.9em;
      color: #9a84ff;
    }

    /* Toggle Switch */
    .toggle {
      width: 46px;
      height: 24px;
      background: #2b1a5a;
      border-radius: 20px;
      position: relative;
      cursor: pointer;
      transition: background 0.3s;
      box-shadow: inset 0 0 6px rgba(0,0,0,0.6);
    }
    .toggle::after {
      content: "";
      width: 18px;
      height: 18px;
      background: #d8cfff;
      border-radius: 50%;
      position: absolute;
      top: 3px; left: 3px;
      transition: 0.3s;
    }
    .toggle.active {
      background: #8f7bff;
      box-shadow: 0 0 8px #b89fff;
    }
    .toggle.active::after {
      left: 25px;
      background: #fff;
    }

    /* Scrollbar styled for Nevox */
    ::-webkit-scrollbar {
      width: 8px;
      background: #0a0014;
    }
    ::-webkit-scrollbar-thumb {
      background: #2b1a5a;
      border-radius: 10px;
      box-shadow: inset 0 0 6px #9a62ff88;
    }
    ::-webkit-scrollbar-thumb:hover {
      background: #6a52cc;
    }
  </style>
</head>
<body>

  <!-- Tabs -->
  <div class="tabs">
    <div class="tab active" data-tab="general">General</div>
    <div class="tab" data-tab="api">API</div>
  </div>

  <!-- General Tab -->
  <div id="generalTab">
    <div class="setting">
      <div class="setting-text">
        <span class="setting-title">Nevox Topmost</span>
        <span class="setting-desc">Keep Nevox window always on top.</span>
      </div>
      <div class="toggle" id="topmostToggle"></div>
    </div>
  </div>

  <!-- API Tab -->
  <div id="apiTab" style="display:none;">
    <div class="setting">
      <div class="setting-text">
        <span class="setting-title">Quorum API</span>
        <span class="setting-desc">Use Quorum Api</span>
      </div>
      <div class="toggle api-toggle active"></div>
    </div>
  </div>

<script>

  document.addEventListener("contextmenu", e => e.preventDefault());
  document.addEventListener("keydown", e => {
    if (e.ctrlKey && (["f","u","s"].includes(e.key.toLowerCase()))) e.preventDefault();
    if (e.ctrlKey && e.shiftKey && e.key.toLowerCase()==="i") e.preventDefault();
    if (e.key==="F12") e.preventDefault();
  });


  function sendMessage(setting, value) {
    if (window.chrome && window.chrome.webview) {
      window.chrome.webview.postMessage({ setting, value });
    }
  }


  const tabs = document.querySelectorAll(".tab");
  const generalTab = document.getElementById("generalTab");
  const apiTab = document.getElementById("apiTab");
  tabs.forEach(tab=>{
    tab.addEventListener("click", ()=>{
      tabs.forEach(t=>t.classList.remove("active"));
      tab.classList.add("active");
      generalTab.style.display = tab.dataset.tab==="general"?"block":"none";
      apiTab.style.display = tab.dataset.tab==="api"?"block":"none";
    });
  });

  const topmostToggle = document.getElementById("topmostToggle");
  topmostToggle.addEventListener("click", ()=>{
    topmostToggle.classList.toggle("active");
    sendMessage("topmost", topmostToggle.classList.contains("active"));
  });


  const apiToggles = document.querySelectorAll(".api-toggle");
  apiToggles.forEach(toggle=>{
    toggle.addEventListener("click", ()=>{
      if(toggle.classList.contains("active")){
        if([...apiToggles].filter(t=>t.classList.contains("active")).length===1) return;
        toggle.classList.remove("active");
      } else {
        apiToggles.forEach(t=>t.classList.remove("active"));
        toggle.classList.add("active");
      }
    });
  });
</script>
</body>
</html>
